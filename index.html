<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InvestigateTV - mAnIpulated Matchup: Which is which?</title>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <style>
  .quiz-container {
  background: url("https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/manipulated_matchup_bg.png");
  background-repeat: no-repeat;
  background-size: 100%;
  font-family: "Arial", Helvetica, sans-serif;
  font-color: #fff;
  margin: 0 auto;
  display: none;
    padding: 6px;
  align-items: center;
}

.footer-image-container {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 15vw; 
    min-height: 50px; 
    max-width: 175px;
    padding-bottom: 6px; 
    z-index: 1000; 
    display: flex;
    justify-content: center;
    align-items: flex-end; 
    box-sizing: border-box; 
}

.footer-image-container img {
    display: block;
    max-width: 100%;
    height: auto;
}

.quiz-container h1 {
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  text-align: center;
  color: #fff
}

.quiz-container .options {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-bottom: 20px;
  justify-items: center;
}

.quiz-container .image-option {
  border: 3px solid transparent;
  border-radius: 8px;
  cursor: pointer;
  max-width: 100%;
  max-height: 30vh;
  display: block;
  object-fit: contain;
}

.quiz-container button {
  cursor: pointer;
}

.disabled {
  pointer-events: none;
}

.image-option.correct {
  background: #A3C76E;
  color: #222;
  position: relative; 
  border: 3px solid #415C1D; 
}

.image-option.correct::after {
  content: "Correct!";
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%);
  background: #A3C76E;
  color: #222;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-size: 14px;
  white-space: nowrap;
  border: 3px solid #415C1D
}

.image-option.incorrect {
  background: #EF5D4C;
  position: relative;
  border: 3px solid #b92b2b; 
}

.image-option.incorrect::after {
  content: "Incorrect";
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%);
  background: #EF5D4C;
  color: white;
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-size: 14px;
  white-space: nowrap;
  border: 3px solid #b92b2b
}

.quiz-container .next-btn,
.quiz-result .retake-btn {
  background: #12326D;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 12px 32px;
  font-size: 20px;
  text-transform: uppercase;
  font-weight: bold;
  letter-spacing: 3px;
  cursor: pointer;
  width: 100%;
  margin-top: 10px;
}

.quiz-result {
  display: none;
  flex-direction: column;
  gap: 8px;
  margin: 0 auto;
  font-family: "Arial", Helvetica, sans-serif;
  color: #fff;
  padding: 8px;
}

.quiz-result h2 {
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  text-align: center;
  color: #fff
}

.quiz-result .question-container {
  padding: 6px;
  border: 1px solid #9EB8EB;
  display: flex;
  height: 100%;
  flex-flow: row;
  flex-shrink: 3;
  gap: 8px;
  text-align: center;
}

.quiz-result .question-container .result-images {
    display: flex;
    gap: 8px;
    justify-content: center;
    width: 100%;
}

.quiz-result .question-container .result-image {
    max-height: 10vh; 
    max-width: 50%; /* Adjust width for single image */
    height: auto;
    object-fit: contain;
    border-radius: 8px;
}

.quiz-result .question-container.incorrect {
  background: #e63946;
  color: #fff;
}
.quiz-result .question-container.correct
{
  background: #A3C76E;
  color: #fff;
}

.question-number {
  font-size: 12px;
  background: #9EB8EB;
  color: #fff;
  padding: 6px 12px;
  border-radius: 6px;
  width: 100%;
  box-sizing: border-box;
  margin: 16px 0;
}

@media (max-width: 700px) {
  .quiz-container .options {
    grid-template-columns: 1fr;
  }
}


.start-btn-container {
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  color: #fff;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.start-btn-container .start-msg {
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(to bottom, rgba(0,0,0,0)0%, rgba(0,0,0,.7)30%, rgba(0,0,0,.9)50%, rgba(0,0,0,.7)70%, rgba(0,0,0,0)100%);
  font-family: "Arial", Helvetica, sans-serif;
  font-size: 20px;
  font-weight: normal;
  color: #fff;
  padding: 20px 100%;
  justify-content: center;
  text-align: center;
  display: flex;
  flex-direction: row;
  white-space: nowrap;
  align-items: center;

}
.start-btn-container h2 {
  font-size: 40px;
  margin: 0;
}

.start-btn-container .start-img {
	position: fixed;
    top: 0%;
   	left: 50%;
    transform: translateX(-50%);
    width: 100%;
    display: flex;
    justify-content: center;
    padding-bottom: 6px;
}

.start-btn-container .start-img img{
	display: flex;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

.start-btn-container .start-btn {
  position: fixed;
  top: 55%;
  left: 50%;
  background: #9EB8EB;
  color: #fff;
  padding: 8px 32px;
  border-radius: 8px;
  border: none;
  font-size: 20px;
  cursor: pointer;
  text-transform: uppercase;
  font-weight: bold;
  transform: translateX(-50%);
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  white-space: nowrap; 
  gap: 5px; 
}


.return-btn-container {
  position: fixed;
  bottom: 80px;
  font-family: "Arial", Helvetica, sans-serif;
  font-weight: normal;
  color: #000; 
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  white-space: nowrap; 
  gap: 15px; 
  z-index: 1001;
  box-sizing: border-box;
  background-color: #000;
  border-radius: 8px;
}

.return-btn-container .return-btn .special-font {
	font-family: "Montserrat", sans-serif;
    font-weight: bold;
    color: #FFF;
    text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
    font-size:18px;
}

.return-btn-container .return-btn {
  background: rgba(93, 146, 88, 0.7);
  color: #FFF; 
  padding: 6px 24px;
  border-radius: 6px;
  border: none;
  font-size: 15px;
  cursor: pointer;
  font-weight: normal; 
}


.quiz-container img.question {
  max-width: 100%;
  max-height: 30vh; 
  height: auto;
  display: block;
  margin: 1em auto;
  object-fit: contain;
  border-radius: 8px;
}

  </style>

  
  <body style="background-color:#000000;">
    <div id="start-screen-wrapper">
        <div class="start-img">
            <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/manipulated_matchup.png" alt="Illustration of a hand below a glowing set of lines and dots designed to represent artificial intelligence. The words manipulated matchup are printed above the illustration" width=100% margin=0 >
        </div>
        <br>
        <div class="start-btn-container">
            <div class="start-msg">
                <p>Can you tell the difference between an <br> AI-manipulated image and the original?</p>
                <br>
            </div>
            <button class="start-btn">Start Quiz</button>
        </div></div>
    

    <div class="quiz-container">
      <h1>Is it AI?</h1>
      <div class="question-number"></div>
      <img id="question-image" class="question" src="" alt="Question Image">
      <div class="options"></div>
      <button class="next-btn">Next</button>
    </div>

    <div class="quiz-result"></div>
   	<div class="return-btn-container">
    <button class="return-btn">Exit to the <span class="special-font"> mAnIpulated</span> Homepage</button>
</div>
   	<div class="footer-image-container">
    	<img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/GTV-Clear-Logomark-RGB-color.png" alt="Gray Media Logo: Colorful partial circles arranged to form the letter G">
</div>
  </body>

  
<script>
   let quizData = [
    {
      id: 1,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-1.png",
      notAiImage: "https://via.placeholder.com/300x200?text=Original+Image+1", // Placeholder
      correctAnswerIsAI: true,
      questionPrompt: "Which image is AI-generated?",
      explanation: "This image exhibits typical characteristics of AI generation, such as subtle inconsistencies in texture and lighting that are uncommon in real photographs."
    },
    {
      id: 2,
      aiImage: "https://via.placeholder.com/300x200?text=AI+Image+2", // Placeholder
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-2.png",
      correctAnswerIsAI: false,
      questionPrompt: "Which image is NOT AI-generated?",
      explanation: "The clarity and natural detail in this image are consistent with an original photograph, lacking the common tells of AI manipulation."
    },
    {
      id: 3,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-3.png",
      notAiImage: "https://via.placeholder.com/300x200?text=Original+Image+3", // Placeholder
      correctAnswerIsAI: true,
      questionPrompt: "Which image is AI-generated?",
      explanation: "Look closely at the background elements; AI often struggles with realistic depth and coherent details in complex scenes, making this image appear artificial."
    },
    {
      id: 4,
      aiImage: "https://via.placeholder.com/300x200?text=AI+Image+4", // Placeholder
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-4.png",
      correctAnswerIsAI: false,
      questionPrompt: "Which image is NOT AI-generated?",
      explanation: "The composition and fine details, especially around the edges of objects, suggest this is an authentic image rather than one produced by AI."
    },
    {
      id: 5,
      aiImage: "https://via.placeholder.com/300x200?text=AI+Image+5", // Placeholder
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-5.png",
      correctAnswerIsAI: false,
      questionPrompt: "Which image is NOT AI-generated?",
      explanation: "The subtle imperfections and realistic rendering of light and shadow point to this being an original photograph, not an AI creation."
    },
    {
      id: 6,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame/main/images/Manipulated%20Game-6.png",
      notAiImage: "https://via.placeholder.com/300x200?text=Original+Image+6", // Placeholder
      correctAnswerIsAI: true,
      questionPrompt: "Which image is AI-generated?",
      explanation: "Notice the slight blurring or unusual patterns in the background, a common tell for AI-generated imagery that struggles with realism in secondary elements."
    },
  ];

  const quizContainer = document.querySelector(".quiz-container");
  const questionNumberEl = document.querySelector(".question-number");
  const options = document.querySelector(".options");
  const nextBtn = document.querySelector(".next-btn");
  const quizResult = document.querySelector(".quiz-result");
  const startBtnContainer = document.querySelector(".start-btn-container");
  const startBtn = document.querySelector(".start-btn");

  let questionNumber = 0;
  let score = 0;
  const MAX_QUESTIONS = 5;

  const shuffleArray = (array) => array.slice().sort(() => Math.random() - 0.5);

  quizData = shuffleArray(quizData);

  const resetLocalStorage = () => {
    for (let i = 0; i < MAX_QUESTIONS; i++) {
      localStorage.removeItem(`userAnswer_${i}`);
 localStorage.removeItem(`userAnswerImageUrl_${i}`);
    }
  };

   const checkAnswer = (e) => {
    const clickedImage = e.target;
    const userAnswerImageUrl = clickedImage.src;
    const currentQuestion = quizData[questionNumber];

    let isCorrect;
    if (currentQuestion.correctAnswerIsAI) {
      isCorrect = (userAnswerImageUrl === currentQuestion.aiImage);
    } else {
      isCorrect = (userAnswerImageUrl === currentQuestion.notAiImage);
    }

    if (isCorrect) {
      score++;
      clickedImage.classList.add("correct");
    } else {
      clickedImage.classList.add("incorrect");
    }

    localStorage.setItem(`userAnswer_${questionNumber}`, isCorrect ? "Correct" : "Incorrect");
    localStorage.setItem(`userAnswerImageUrl_${questionNumber}`, userAnswerImageUrl);


    const allImageOptions = document.querySelectorAll(".image-option");
    allImageOptions.forEach((img) => img.classList.add("disabled"));
  };

  const createQuestion = () => {
    const currentQuestion = quizData[questionNumber];

    options.innerHTML = "";
    questionImage.src = currentQuestion.question;
    questionNumberEl.textContent = `Question ${questionNumber + 1} of ${MAX_QUESTIONS}`;

  // Use options as-is, no shuffle
  const imagesToDisplay = [
      { type: 'ai', url: currentQuestion.aiImage },
      { type: 'not-ai', url: currentQuestion.notAiImage }
    ];

    // Randomize the order of the two images
    const shuffledImages = shuffleArray(imagesToDisplay);

    shuffledImages.forEach((imgData) => {
      const imageOption = document.createElement("img");
      imageOption.classList.add("image-option");
      imageOption.src = imgData.url;
      imageOption.alt = imgData.type === 'ai' ? "AI-generated image" : "Original image";
      imageOption.addEventListener("click", checkAnswer);
      optionsDiv.appendChild(imageOption);
    });
  };


  const displayQuizResult = () => {
    quizResult.innerHTML = "";
    quizResult.style.display = "flex";
    quizContainer.style.display = "none";

    const resultHeading = document.createElement("h2");
    resultHeading.textContent = `You scored ${score} out of ${MAX_QUESTIONS}`;
    quizResult.appendChild(resultHeading);

    for (let i = 0; i < MAX_QUESTIONS; i++) {
      const resultItem = document.createElement("div");
      resultItem.classList.add("question-container");

      const userAnswer = localStorage.getItem(`userAnswer_${i}`) || "Not Answered";
      const userAnswerStatus = localStorage.getItem(`userAnswer_${i}`);

      if (userAnswerStatus === "Incorrect") {
        resultItem.classList.add("incorrect");
      } else if (userAnswerStatus === "Correct") {
        resultItem.classList.add("correct");
      }

      let correctAnswerImageUrl;
      if (currentQuestion.correctAnswerIsAI) {
          correctAnswerImageUrl = currentQuestion.aiImage;
      } else {
          correctAnswerImageUrl = currentQuestion.notAiImage;
      }

      resultItem.innerHTML = `
        <h3>Question ${i + 1}: ${currentQuestion.questionPrompt}</h3>
        <div class="result-images">
            <img src="${correctAnswerImageUrl}" alt="Correct Answer Image" class="result-image">
        </div>
        <div>
            <strong>Your answer was:</strong> ${userAnswerStatus}
            <br>
            <strong>Explanation:</strong> ${currentQuestion.explanation}
        </div>
      `;

      quizResult.appendChild(resultItem);
    }

    const retakeBtn = document.createElement("button");
    retakeBtn.textContent = "Retake Quiz";
    retakeBtn.classList.add("retake-btn");
    retakeBtn.addEventListener("click", () => {
      questionNumber = 0;
      score = 0;
      quizData = shuffleArray(quizData);
      resetLocalStorage();
      quizResult.style.display = "none";
      quizContainer.style.display = "block";
      createQuestion();
    });

    quizResult.appendChild(retakeBtn);
  };

  const displayNextQuestion = () => {
    if (questionNumber >= MAX_QUESTIONS - 1) {
      displayQuizResult();
    } else {
      questionNumber++;
      createQuestion();
    }
  };
	const returnBtn = document.querySelector(".return-btn"); // Selects the button with the class 'return-btn'

  returnBtn.addEventListener("click", () => {
    window.location.href = "https://www.investigatetv.com/page/manipulated/"; 
  });


  nextBtn.addEventListener("click", displayNextQuestion);

  startBtn.addEventListener("click", () => {
  document.getElementById("start-screen-wrapper").style.display = "none";
  quizContainer.style.display = "block";
    resetLocalStorage();
    createQuestion();
  });
</script>

</html>
