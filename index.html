<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>InvestigateTV - mAnIpulated Matchup: Which is which?</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  </head>
<style>
body, html {
  margin: 0;
  padding: 0;
  overflow-x: hidden; /* prevents horizontal scroll */
  font-family: "Arial", Helvetica, sans-serif;
  background-color: #000;
  color: #fff;
  box-sizing: border-box;
}

.quiz-container {
  background: url("https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/manipulated_matchup_bg.png") no-repeat center top;
  background-size: cover;
  display: none;
  margin: 0 auto;
  padding: 1em;
  max-width: 100%;
}

.quiz-container h1 {
  font-weight: normal;
  text-align: center;
  font-size: 22px;
}

.quiz-container .options {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin: 10px 0;
  justify-items: center;
}

.quiz-container .image-option {
  position: relative;
  border: 3px solid transparent;
  border-radius: 8px;
  cursor: pointer;
  max-width: 100%;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0);
}

.quiz-container .image-option img {
  max-height: 25vh;
  max-width: 100%;
  height: auto;
  width: auto;
  object-fit: contain;
  display: block;
  border-radius: 8px;
}

.quiz-container button {
  cursor: pointer;
}

.disabled {
  pointer-events: none;
}

.image-option.correct { border: 6px solid #415C1D; }
.image-option.incorrect { border: 6px solid #b92b2b; }

.image-option.correct::after,
.image-option.incorrect::after {
  position: absolute;
  top: 0; left: 0; right: 0;
  padding: 6px;
  font-weight: bold;
  font-size: 14px;
  text-align: center;
  z-index: 1000;
}

.image-option.correct::after {
  content: "Correct!";
  background: rgba(163,199,110,0.9);
  color: #415C1D;
}

.image-option.incorrect::after {
  content: "Incorrect";
  background: rgba(239,93,76,0.9);
  color: #850505;
}

.quiz-container .next-btn,
.quiz-result .retake-btn {
  background: #12326D;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 12px 32px;
  font-size: 20px;
  text-transform: uppercase;
  font-weight: bold;
  letter-spacing: 3px;
  cursor: pointer;
  width: 100%;
  margin-top: 6px;
}

/* ==== Results: RESTORED ORIGINAL LAYOUT ==== */
.quiz-result {
  display: none;
  flex-direction: column;
  gap: 8px;
  margin: 0 auto;
  font-family: "Arial", Helvetica, sans-serif;
  font-size: 12px;
  color: #fff;
  padding: 8px;
  max-width: 500px; /* original width */
}

.quiz-result h3 {
  font-weight: bold;
  text-align: center;
  color: #fff;
}

.quiz-result .question-container {
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 12px;
  border: 1px solid #9EB8EB;
  border-radius: 6px;
  padding: 8px;
  width: 100%;
  box-sizing: border-box;
}

.quiz-result .result-images {
  flex: 0 0 120px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.quiz-result .result-image {
  max-height: 10vh;
  width: 100%;
  object-fit: contain;
  border-radius: 6px;
}

.quiz-result .answer-text {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 4px;
  text-align: left;
}

.quiz-result .question-container.incorrect {
  background: #e63946;
  color: #fff;
}

.quiz-result .question-container.correct {
  background: #A3C76E;
  color: #222;
}
/* ==== End of restored results ==== */

.question-number {
  font-size: 12px;
  background: #9EB8EB;
  color: #fff;
  padding: 6px 12px;
  border-radius: 6px;
  width: 100%;
  margin: 16px 0;
  box-sizing: border-box;
}

@media (max-width: 700px) {
  .quiz-container .options {
    grid-template-columns: 1fr;
  }
}

.start-btn-container {
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.start-btn-container .start-msg {
  position: fixed;
  top: 40%;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(to bottom, rgba(0,0,0,0)0%, rgba(0,0,0,.7)30%, rgba(0,0,0,.9)50%, rgba(0,0,0,.7)70%, rgba(0,0,0,0)100%);
  font-size: 20px;
  color: #fff;
  padding: 20px 10px;
  justify-content: center;
  text-align: center;
  display: flex;
  white-space: nowrap;
  align-items: center;
}

.start-btn-container h2 { font-size: 40px; margin: 0; }

.start-btn-container .start-img {
  position: fixed;
  top: 0%;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  display: flex;
  justify-content: center;
  padding-bottom: 6px;
}

.start-btn-container .start-img img{
  max-width: 100%;
  height: auto;
}

.start-btn-container .start-btn {
  position: fixed;
  top: 55%;
  left: 50%;
  background: #9EB8EB;
  color: #fff;
  padding: 8px 32px;
  border-radius: 8px;
  border: none;
  font-size: 20px;
  cursor: pointer;
  text-transform: uppercase;
  font-weight: bold;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  white-space: nowrap;
  gap: 5px;
}

.return-btn-container,
.footer-image-container {
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  box-sizing: border-box;
}

.return-btn-container {
  bottom: 80px;
  gap: 15px;
  background-color: #000;
  border-radius: 8px;
}

.return-btn-container .return-btn {
  background: rgba(93, 146, 88, 0.7);
  color: #FFF;
  padding: 6px 24px;
  border-radius: 6px;
  border: none;
  font-size: 15px;
  cursor: pointer;
}

.return-btn-container .return-btn .special-font {
  font-family: "Montserrat", sans-serif;
  font-weight: bold;
  color: #FFF;
  text-shadow: 0 0 5px rgba(255,255,255,0.8);
  font-size: 18px;
}

.footer-image-container {
  bottom: 0;
  width: 5vw;
  max-width: 75px;
  padding-bottom: 6px;
}

.footer-image-container img {
  width: 100%;
  height: auto;
}

.quiz-container img.question {
  max-width: 100%;
  max-height: 25vh;
  height: auto;
  display: block;
  margin: 1em auto;
  object-fit: contain;
  border-radius: 8px;
}

/* ===== MOBILE FIX: prevent overlap ===== */
@media (max-width: 500px) {
  .quiz-container,
  .quiz-result {
    padding-bottom: 140px; /* push content above fixed buttons */
  }

  .return-btn-container {
    bottom: 60px;
    width: 90vw;
    max-width: none;
    padding: 8px;
  }

  .footer-image-container {
    bottom: 10px;
    width: 80px;
  }
}

</style>




  <body style="background-color:#000000;">
    <div id="start-screen-wrapper">
      <div class="start-img">
        <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/manipulated_matchup.png" alt="Illustration..." width=100% margin=0 >
      </div>
      <br>
      <div class="start-btn-container">
        <div class="start-msg">
          <p>Can you tell the difference between an <br> AI-manipulated image and the original?</p>
          <br>
        </div>
        <button class="start-btn">Start Quiz</button>
      </div>
    </div>

    <div class="quiz-container">
      <h1></h1>
      <div class="question-number"></div>
      <img id="question-image" class="question" src="" alt="Question Image" style="display: none;">
      <div class="options"></div>
      <button class="next-btn">Next</button>
    </div>

    <div class="quiz-result"></div>

    <div class="return-btn-container">
      <button class="return-btn">Exit to the <span class="special-font"> mAnIpulated</span> Homepage</button>
    </div>
    <div class="footer-image-container">
      <img src="https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/GTV-Clear-Logomark-RGB-color.png" alt="Gray Media Logo: Colorful partial circles arranged to form the letter G">
    </div>
  </body>

<script>
  let quizData = [
    {
      id: 1,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-2.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-1.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "Additional skyscrapers were added using generative AI."
    },
    {
      id: 2,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-4.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-3.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "Vehicles were removed from two lanes of traffic using an AI photo editor."
    },
    {
      id: 3,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-6.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-5.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "A crumpled napkin and plastic spoon wrapper were added using generative AI."
    },
    {
      id: 4,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-8.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-7.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "A small rowboat, a different yacht and the setting sun were added using generative AI."
    },
    {
      id: 5,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-10.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-9.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "The black sportscar in the foreground was removed from two lanes of traffic using an AI photo editor."
    },
    {
      id: 6,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-12.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-11.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "A pond with water lilies and a reflection of the skyline was added using generative AI."
    },
    {
      id: 7,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-14.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-13.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "Wooden pallets and crates of seafood were added next to the truck using generative AI."
    },
    {
      id: 8,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-16.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-15.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "The concrete fountain was removed using an AI photo editor."
    },
    {
      id: 9,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-18.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-17.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "A kayak and paddle were added using generative AI."
    },
    {
      id: 10,
      aiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-20.png",
      notAiImage: "https://raw.githubusercontent.com/InvestigateTV/manipulatedgame2/main/images/Manipulated_Game_2-19.png",
      correctAnswerIsAI: true,
      questionPrompt: "Which image has been altered using AI?",
      explanation: "A white sailboat was added using generative AI."
    },
  ];

  const quizContainer = document.querySelector(".quiz-container");
  const questionNumberEl = document.querySelector(".question-number");
  const options = document.querySelector(".options");
  const nextBtn = document.querySelector(".next-btn");
  const quizResult = document.querySelector(".quiz-result");
  const startBtnContainer = document.querySelector(".start-btn-container");
  const startBtn = document.querySelector(".start-btn");

  let questionNumber = 0;
  let score = 0;
  const MAX_QUESTIONS = 5;

  const shuffleArray = (array) => array.slice().sort(() => Math.random() - 0.5);
  quizData = shuffleArray(quizData);

  const resetLocalStorage = () => {
    for (let i = 0; i < MAX_QUESTIONS; i++) {
      localStorage.removeItem(`userAnswer_${i}`);
      localStorage.removeItem(`userAnswerImageUrl_${i}`);
    }
  };

  const checkAnswer = (e) => {
    const clickedWrapper = e.currentTarget;               // .image-option div
    const clickedImage = clickedWrapper.querySelector("img");
    const userAnswerImageUrl = clickedImage.src;
    const currentQuestion = quizData[questionNumber];

    let isCorrect;
    if (currentQuestion.correctAnswerIsAI) {
      isCorrect = (userAnswerImageUrl === currentQuestion.aiImage);
    } else {
      isCorrect = (userAnswerImageUrl === currentQuestion.notAiImage);
    }

    if (isCorrect) {
      score++;
      clickedWrapper.classList.add("correct");
    } else {
      clickedWrapper.classList.add("incorrect");
    }

    localStorage.setItem(`userAnswer_${questionNumber}`, isCorrect ? "Correct" : "Incorrect");
    localStorage.setItem(`userAnswerImageUrl_${questionNumber}`, userAnswerImageUrl);

    // disable further clicks this question
    const allImageOptions = document.querySelectorAll(".image-option");
    allImageOptions.forEach((opt) => opt.classList.add("disabled"));
  };

  const createQuestion = () => {
    const currentQuestion = quizData[questionNumber];
    document.querySelector(".quiz-container h1").textContent = currentQuestion.questionPrompt;

    options.innerHTML = "";
    questionNumberEl.textContent = `Question ${questionNumber + 1} of ${MAX_QUESTIONS}`;

    const imagesToDisplay = [
      { type: 'ai', url: currentQuestion.aiImage },
      { type: 'not-ai', url: currentQuestion.notAiImage }
    ];
    const shuffledImages = shuffleArray(imagesToDisplay);

    shuffledImages.forEach((imgData) => {
      const wrapper = document.createElement("div");
      wrapper.classList.add("image-option");

      const image = document.createElement("img");
      image.src = imgData.url;
      image.alt = imgData.type === 'ai' ? "AI-generated image" : "Original image";

      wrapper.appendChild(image);
      wrapper.addEventListener("click", checkAnswer);
      options.appendChild(wrapper);
    });

    // re-enable clicks for new question
    const allImageOptions = document.querySelectorAll(".image-option");
    allImageOptions.forEach((opt) => opt.classList.remove("disabled"));
  };

  const displayQuizResult = () => {
    quizResult.innerHTML = "";
    quizResult.style.display = "flex";
    quizContainer.style.display = "none";

    const resultHeading = document.createElement("h2");
    resultHeading.textContent = `You scored ${score} out of ${MAX_QUESTIONS}`;
    quizResult.appendChild(resultHeading);

    for (let i = 0; i < MAX_QUESTIONS; i++) {
      const resultItem = document.createElement("div");
      resultItem.classList.add("question-container");

      const userAnswerStatus = localStorage.getItem(`userAnswer_${i}`);

      if (userAnswerStatus === "Incorrect") {
        resultItem.classList.add("incorrect");
      } else if (userAnswerStatus === "Correct") {
        resultItem.classList.add("correct");
      }

      const questionForResults = quizData[i];

      let correctAnswerImageUrl;
      if (questionForResults.correctAnswerIsAI) {
        correctAnswerImageUrl = questionForResults.aiImage;
      } else {
        correctAnswerImageUrl = questionForResults.notAiImage;
      }

      const imageDisplayHtml = `
        <img src="${correctAnswerImageUrl}" alt="Correct Answer Image" class="result-image">
      `;

      resultItem.innerHTML = `
        <div class="result-images">
            ${imageDisplayHtml}
        </div>
        <div>
            <strong>Your answer was:</strong> ${userAnswerStatus}
            <br>
            <strong>Explanation:</strong> ${questionForResults.explanation}
        </div>
      `;

      quizResult.appendChild(resultItem);
    }

    const retakeBtn = document.createElement("button");
    retakeBtn.textContent = "Retake Quiz";
    retakeBtn.classList.add("retake-btn");
    retakeBtn.addEventListener("click", () => {
      questionNumber = 0;
      score = 0;
      quizData = shuffleArray(quizData);
      resetLocalStorage();
      quizResult.style.display = "none";
      quizContainer.style.display = "block";
      createQuestion();
    });

    quizResult.appendChild(retakeBtn);
  };

  const displayNextQuestion = () => {
    if (questionNumber >= MAX_QUESTIONS - 1) {
      displayQuizResult();
    } else {
      questionNumber++;
      createQuestion();
    }
  };

  const returnBtn = document.querySelector(".return-btn");
  returnBtn.addEventListener("click", () => {
    window.location.href = "https://www.investigatetv.com/page/manipulated/";
  });

  nextBtn.addEventListener("click", displayNextQuestion);

  startBtn.addEventListener("click", () => {
    document.getElementById("start-screen-wrapper").style.display = "none";
    quizContainer.style.display = "block";
    resetLocalStorage();
    createQuestion();
  });
</script>

</html>
